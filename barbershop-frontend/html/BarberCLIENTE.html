<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minha Conta - BarberShop</title>
    <!-- CSS Global (sobe um nível) -->
    <link rel="stylesheet" href="../css/cssGlocal.css">
    <!-- CSS Específico da Página (sobe um nível) -->
    <link rel="stylesheet" href="../css/cssCliente.css">
</head>
<body>
    <div id="notification-container"></div>

    <header id="main-header"></header>
    
    <div class="container">
    <!-- A NAVBAR SERÁ INJETADA AQUI PELO nav.js -->
    <header id="main-header"></header>

    <div class="container">
        
        <div class="header">
            <h1>Olá, Nome do Cliente</h1>
            <a href="#" class="btn-agendar" onclick="event.preventDefault(); abrirModal('modalAgendamento')">
                Agendar Novo Corte
            </a>
        </div>

        <div class="notificacoes-area">
            <!-- Notificações aparecem aqui (Ex: Aniversário) -->
        </div>

        <h2>Seu Próximo Agendamento</h2>
        <div class="proximo-corte">
            <!-- Conteúdo preenchido pelo JS -->
            <h3>Carregando...</h3>
        </div>

        <h2>Meu Histórico de Cortes</h2>
        <ul class="historico-lista">
            <!-- Conteúdo preenchido pelo JS -->
        </ul>

    </div> 
    
    <!-- MODAL: NOVO AGENDAMENTO -->
    <div id="modalAgendamento" class="modal-overlay" onclick="fecharModal('modalAgendamento')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2>Novo Agendamento</h2>
                <span class="close-button" onclick="fecharModal('modalAgendamento')">&times;</span>
            </div>
            
            <div class="modal-body">
                <form id="form-agendar">
                    <fieldset>
                        <legend>Detalhes do Serviço</legend>
                        <div class="form-group">
                            <label for="servico">Serviço Desejado</label>
                            <select id="servico" name="servico">
                                <option value="corte">Corte de Cabelo</option>
                                <option value="barba">Barba</option>
                                <option value="corte_barba">Corte + Barba</option>
                                <option value="sombrancelha">Sobrancelha</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="barbeiro">Preferência de Barbeiro</label>
                            <select id="barbeiro" name="barbeiro">
                                <option value="">Qualquer um</option>
                                <!-- Nomes dos barbeiros preenchidos pelo JS -->
                            </select>
                        </div>
                    </fieldset>

                    <fieldset>
                        <legend>Data e Hora</legend>
                        <div class="form-group">
                            <label for="dia">Dia</label>
                            <input type="date" id="dia" name="dia" required>
                        </div>
                        <div class="form-group">
                            <label for="horario">Horário</label>
                            <input type="time" id="horario" name="horario" min="09:00" max="20:00" step="1800" required>
                        </div>
                    </fieldset>

                    <div class="botoes-form">
                        <button type="button" class="btn-cancelar-modal" onclick="fecharModal('modalAgendamento')">Cancelar</button>
                        <button type="submit" class="btn-confirmar">Confirmar Agendamento</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- MODAL: DESMARCAR -->
    <div id="modalDesmarcar" class="modal-overlay" onclick="fecharModal('modalDesmarcar')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2>Cancelar Agendamento</h2>
                <span class="close-button" onclick="fecharModal('modalDesmarcar')">&times;</span>
            </div>
            <div class="modal-body">
                <p>Tem certeza que deseja cancelar seu agendamento?</p>
                <form id="form-cancelar">
                    <div class="form-group">
                        <label for="motivo-cancelamento">Por favor, informe o motivo (opcional):</label>
                        <select id="motivo-cancelamento" name="motivo">
                            <option value="" disabled selected>Selecione um motivo...</option>
                            <option value="imprevisto">Tive um imprevisto</option>
                            <option value="remarcar">Vou remarcar para outra data</option>
                            <option value="nao_preciso">Não preciso mais do serviço</option>
                            <option value="outro">Outro</option>
                        </select>
                    </div>
                    <div class="botoes-form">
                        <button type="button" class="btn-cancelar-modal" onclick="fecharModal('modalDesmarcar')">Voltar</button>
                        <button type="submit" class="btn-confirmar" style="background-color: #dc3545;">Confirmar Cancelamento</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- MODAL: REMARCAR -->
    <div id="modalRemarcar" class="modal-overlay" onclick="fecharModal('modalRemarcar')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2>Remarcar Agendamento</h2>
                <span class="close-button" onclick="fecharModal('modalRemarcar')">&times;</span>
            </div>
            <div class="modal-body">
                <p id="remarcar-texto-atual">Seu agendamento atual é: <strong>Carregando...</strong>.</p>
                <form id="form-remarcar">
                    <div class="form-group">
                        <label for="nova-data">Escolha o novo dia:</label>
                        <input type="date" id="nova-data" name="nova-data" required>
                    </div>
                    <div class="form-group">
                        <label for="novo-horario">Escolha o novo horário:</label>
                        <input type="time" id="novo-horario" name="novo-horario" min="09:00" max="20:00" step="1800" required>
                    </div>
                    <div class="botoes-form">
                        <button type="button" class="btn-cancelar-modal" onclick="fecharModal('modalRemarcar')">Voltar</button>
                        <button type="submit" class="btn-confirmar">Confirmar Remarcação</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- SCRIPT DA NAVBAR (DEVE VIR PRIMEIRO NO BODY) -->
    <script src="../js/nav.js" defer></script>
    <!-- Script Específico da Página -->
    <script src="../js/scriptCliente.js" defer></script>
</body>
</html>